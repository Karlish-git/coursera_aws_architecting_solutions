{"format_version":"1.2","terraform_version":"1.10.1","planned_values":{"root_module":{"resources":[{"address":"aws_api_gateway_integration.sqs_integration","mode":"managed","type":"aws_api_gateway_integration","name":"sqs_integration","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cache_key_parameters":[],"cache_namespace":"mns4il","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","http_method":"POST","id":"agi-o839tu40g6-mns4il-POST","integration_http_method":"POST","passthrough_behavior":"NEVER","request_parameters":{"integration.request.header.Content-Type":"'application/x-www-form-urlencoded'"},"request_templates":{"application/json":"Action=SendMessage\u0026MessageBody=$util.urlEncode($input.body)"},"resource_id":"mns4il","rest_api_id":"o839tu40g6","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"arn:aws:apigateway:eu-north-1:sqs:path/221082177493/poc_queue_private_karlitos"},"sensitive_values":{"cache_key_parameters":[],"request_parameters":{},"request_templates":{},"tls_config":[]}},{"address":"aws_api_gateway_integration_response.sqs_integration_response","mode":"managed","type":"aws_api_gateway_integration_response","name":"sqs_integration_response","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"content_handling":"","http_method":"POST","id":"agir-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_parameters":{},"response_templates":{},"rest_api_id":"o839tu40g6","selection_pattern":"","status_code":"200"},"sensitive_values":{"response_parameters":{},"response_templates":{}}},{"address":"aws_api_gateway_method.post_method","mode":"managed","type":"aws_api_gateway_method","name":"post_method","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization":"NONE","authorization_scopes":[],"authorizer_id":"","http_method":"POST","id":"agm-o839tu40g6-mns4il-POST","operation_name":"","request_models":{},"request_parameters":{},"request_validator_id":"","resource_id":"mns4il","rest_api_id":"o839tu40g6"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameters":{}}},{"address":"aws_api_gateway_method_response.response_200","mode":"managed","type":"aws_api_gateway_method_response","name":"response_200","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"http_method":"POST","id":"agmr-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_models":{},"response_parameters":{},"rest_api_id":"o839tu40g6","status_code":"200"},"sensitive_values":{"response_models":{},"response_parameters":{}}},{"address":"aws_api_gateway_resource.message_resource","mode":"managed","type":"aws_api_gateway_resource","name":"message_resource","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"mns4il","parent_id":"13zeyqay4e","path":"/message","path_part":"message","rest_api_id":"o839tu40g6"},"sensitive_values":{}},{"address":"aws_api_gateway_rest_api.poc_api","mode":"managed","type":"aws_api_gateway_rest_api","name":"poc_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_source":"HEADER","arn":"arn:aws:apigateway:eu-north-1::/restapis/o839tu40g6","binary_media_types":[],"body":null,"created_date":"2024-12-07T01:11:56Z","description":"This is a simple API","disable_execute_api_endpoint":false,"endpoint_configuration":[{"types":["EDGE"],"vpc_endpoint_ids":[]}],"execution_arn":"arn:aws:execute-api:eu-north-1:221082177493:o839tu40g6","fail_on_warnings":null,"id":"o839tu40g6","minimum_compression_size":"","name":"poc_api","parameters":null,"policy":"","put_rest_api_mode":null,"root_resource_id":"13zeyqay4e","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"binary_media_types":[],"endpoint_configuration":[{"types":[false],"vpc_endpoint_ids":[]}],"tags":{},"tags_all":{}}},{"address":"aws_dynamodb_table.orders","mode":"managed","type":"aws_dynamodb_table","name":"orders","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders","attribute":[{"name":"orderID","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"orderID","id":"orders","import_table":[],"local_secondary_index":[],"name":"orders","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","stream_enabled":true,"stream_label":"2024-12-07T00:37:16.597","stream_view_type":"NEW_IMAGE","table_class":"STANDARD","tags":{"Name":"orders"},"tags_all":{"Name":"orders","Terraform":"True","course":"aws-sa-associate"},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":0},"sensitive_values":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}},{"address":"aws_iam_policy.lambda_dynamodbstreams_read","mode":"managed","type":"aws_iam_policy","name":"lambda_dynamodbstreams_read","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","name":"Lambda-DynamoDBStreams-Read","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetShardIterator\",\"dynamodb:DescribeStream\",\"dynamodb:ListStreams\",\"dynamodb:GetRecords\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KYAJJ2VX4M","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.lambda_read_sqs","mode":"managed","type":"aws_iam_policy","name":"lambda_read_sqs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","name":"Lambda-Read-SQS","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sqs:DeleteMessage\",\"sqs:ReceiveMessage\",\"sqs:GetQueueAttributes\",\"sqs:ChangeMessageVisibility\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7K27S47WKDB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.lambda_sns_publish","mode":"managed","type":"aws_iam_policy","name":"lambda_sns_publish","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/lambda-sns-publish","name":"lambda-sns-publish","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sns:Publish\",\"sns:GetTopicAttributes\",\"sns:ListTopics\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KTGFB4ZOZK","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.lambda_write_dynamodb","mode":"managed","type":"aws_iam_policy","name":"lambda_write_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","attachment_count":1,"description":"dynamo access put","id":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","name":"Lambda-Write-DynamoDB","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:putitem\",\"dynamodb:describetable\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"visualeditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KXVIT3BEHB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_role.api_gateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"api_gateway_sqs_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-07T01:18:44Z","description":"","force_detach_policies":false,"id":"api_gateway_sqs_role","inline_policy":[{"name":"api_gateway_sqs_policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"api_gateway_sqs_role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K4FRMLTZAG"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.apigateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"apigateway_sqs_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/APIGateway-SQS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"APIGateway-SQS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"],"max_session_duration":3600,"name":"APIGateway-SQS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KY4R3XGUND"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.lambda_dynamodbstreams_sns_role","mode":"managed","type":"aws_iam_role","name":"lambda_dynamodbstreams_sns_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-DynamoDBStreams-SNS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","arn:aws:iam::221082177493:policy/lambda-sns-publish"],"max_session_duration":3600,"name":"Lambda-DynamoDBStreams-SNS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KSIWQWV6T7"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.lambda_sqs_dynamodb_role","mode":"managed","type":"aws_iam_role","name":"lambda_sqs_dynamodb_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-SQS-DynamoDB","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-Read-SQS","arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB"],"max_session_duration":3600,"name":"Lambda-SQS-DynamoDB","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K655QYD3MI"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role_policy.api_gateway_sqs_policy","mode":"managed","type":"aws_iam_role_policy","name":"api_gateway_sqs_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"api_gateway_sqs_role:api_gateway_sqs_policy","name":"api_gateway_sqs_policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}","role":"api_gateway_sqs_role"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.apigateway_sqs_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"apigateway_sqs_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"APIGateway-SQS-20241206230841686000000004","policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs","role":"APIGateway-SQS"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_publish_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_publish_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-DynamoDBStreams-SNS-20241207001238714600000003","policy_arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","role":"Lambda-DynamoDBStreams-SNS"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_read_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_read_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-DynamoDBStreams-SNS-20241206230841574400000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","role":"Lambda-DynamoDBStreams-SNS"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamo_sqs_read","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamo_sqs_read","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-SQS-DynamoDB-20241207001237527600000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","role":"Lambda-SQS-DynamoDB"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamodb_dynamo_write","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamodb_dynamo_write","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-SQS-DynamoDB-20241207001237948700000002","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","role":"Lambda-SQS-DynamoDB"},"sensitive_values":{}},{"address":"aws_lambda_event_source_mapping.emailer_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"emailer_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:48541742-d18e-4d1f-b5e2-4bc6112f6a2d","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[{"on_failure":[{"destination_arn":null}]}],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_response_types":[],"id":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d","kms_key_arn":"","last_modified":"2024-12-07T01:20:00Z","last_processing_result":"OK","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":-1,"maximum_retry_attempts":-1,"metrics_config":[],"parallelization_factor":1,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"LATEST","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"User action","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d"},"sensitive_values":{"amazon_managed_kafka_event_source_config":[],"destination_config":[{"on_failure":[{}]}],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]}},{"address":"aws_lambda_event_source_mapping.sqs_order_processor_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"sqs_order_processor_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_response_types":[],"id":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","kms_key_arn":"","last_modified":"2024-12-06T23:09:31Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351"},"sensitive_values":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]}},{"address":"aws_lambda_function.emailer","mode":"managed","type":"aws_lambda_function","name":"emailer","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","code_sha256":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"SNS_TOPIC":"arn:aws:sns:eu-north-1:221082177493:poc_topic"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./emailer.zip","function_name":"emailer-0","handler":"emailer.mail_handler","id":"emailer-0","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0/invocations","kms_key_arn":"","last_modified":"2024-12-07T00:51:07.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/emailer-0","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","source_code_size":400,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}},{"address":"aws_lambda_function.order_processor","mode":"managed","type":"aws_lambda_function","name":"order_processor","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","code_sha256":"gkjwdA1flRCvrgy186GvU5MB/jP6r9NhbF8EN0x19BE=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"TABLE_NAME":"orders"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./function.zip","function_name":"POC-Lambda-1","handler":"function.lambda_handler","id":"POC-Lambda-1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1/invocations","kms_key_arn":"","last_modified":"2024-12-06T23:30:58.601+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/POC-Lambda-1","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"T3C/5RhD0ekGOWDHkaywUF+Xn7vEz2wLNB4g6KsKLNc=","source_code_size":348,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}},{"address":"aws_sns_topic.poc_topic","mode":"managed","type":"aws_sns_topic","name":"poc_topic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:eu-north-1:221082177493:poc_topic","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"poc_topic","name_prefix":"","owner":"221082177493","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"221082177493\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:eu-north-1:221082177493:poc_topic\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"tracing_config":""},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_sns_topic_subscription.email","mode":"managed","type":"aws_sns_topic_subscription","name":"email","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","confirmation_timeout_in_minutes":1,"confirmation_was_authenticated":false,"delivery_policy":"","endpoint":"ligtning.uwhsh@aleeas.com","endpoint_auto_confirms":false,"filter_policy":"","filter_policy_scope":"","id":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","owner_id":"221082177493","pending_confirmation":false,"protocol":"email","raw_message_delivery":false,"redrive_policy":"","replay_policy":"","subscription_role_arn":"","topic_arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic"},"sensitive_values":{}},{"address":"aws_sqs_queue.poc_queue","mode":"managed","type":"aws_sqs_queue","name":"poc_queue","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"poc_queue_private_karlitos","name_prefix":"","policy":"{\"Statement\":[{\"Action\":\"sqs:SendMessage\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","visibility_timeout_seconds":30},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_sqs_queue_policy.poc_queue_policy","mode":"managed","type":"aws_sqs_queue_policy","name":"poc_queue_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","policy":"{\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","queue_url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos"},"sensitive_values":{}}]}},"resource_drift":[{"address":"aws_api_gateway_integration.sqs_integration","mode":"managed","type":"aws_api_gateway_integration","name":"sqs_integration","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"cache_key_parameters":null,"cache_namespace":"mns4il","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","http_method":"POST","id":"agi-o839tu40g6-mns4il-POST","integration_http_method":"POST","passthrough_behavior":"NEVER","request_parameters":{"integration.request.header.Content-Type":"'application/x-www-form-urlencoded'"},"request_templates":{"application/json":"Action=SendMessage\u0026MessageBody=$util.urlEncode($input.body)"},"resource_id":"mns4il","rest_api_id":"o839tu40g6","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"arn:aws:apigateway:eu-north-1:sqs:path/221082177493/poc_queue_private_karlitos"},"after":{"cache_key_parameters":[],"cache_namespace":"mns4il","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","http_method":"POST","id":"agi-o839tu40g6-mns4il-POST","integration_http_method":"POST","passthrough_behavior":"NEVER","request_parameters":{"integration.request.header.Content-Type":"'application/x-www-form-urlencoded'"},"request_templates":{"application/json":"Action=SendMessage\u0026MessageBody=$util.urlEncode($input.body)"},"resource_id":"mns4il","rest_api_id":"o839tu40g6","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"arn:aws:apigateway:eu-north-1:sqs:path/221082177493/poc_queue_private_karlitos"},"after_unknown":{},"before_sensitive":{"request_parameters":{},"request_templates":{},"tls_config":[]},"after_sensitive":{"cache_key_parameters":[],"request_parameters":{},"request_templates":{},"tls_config":[]}}},{"address":"aws_api_gateway_integration_response.sqs_integration_response","mode":"managed","type":"aws_api_gateway_integration_response","name":"sqs_integration_response","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"content_handling":"","http_method":"POST","id":"agir-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_parameters":null,"response_templates":null,"rest_api_id":"o839tu40g6","selection_pattern":"","status_code":"200"},"after":{"content_handling":"","http_method":"POST","id":"agir-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_parameters":{},"response_templates":{},"rest_api_id":"o839tu40g6","selection_pattern":"","status_code":"200"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{"response_parameters":{},"response_templates":{}}}},{"address":"aws_iam_role.api_gateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"api_gateway_sqs_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-07T01:18:44Z","description":"","force_detach_policies":false,"id":"api_gateway_sqs_role","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"api_gateway_sqs_role","name_prefix":"","path":"/","permissions_boundary":"","tags":null,"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K4FRMLTZAG"},"after":{"arn":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-07T01:18:44Z","description":"","force_detach_policies":false,"id":"api_gateway_sqs_role","inline_policy":[{"name":"api_gateway_sqs_policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"api_gateway_sqs_role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K4FRMLTZAG"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"aws_lambda_event_source_mapping.emailer_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"emailer_trigger","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:48541742-d18e-4d1f-b5e2-4bc6112f6a2d","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[{"on_failure":[{"destination_arn":null}]}],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_response_types":[],"id":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d","kms_key_arn":"","last_modified":"2024-12-07T00:59:00Z","last_processing_result":"No records processed","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":-1,"maximum_retry_attempts":-1,"metrics_config":[],"parallelization_factor":1,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"LATEST","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"User action","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d"},"after":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:48541742-d18e-4d1f-b5e2-4bc6112f6a2d","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[{"on_failure":[{"destination_arn":null}]}],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_response_types":[],"id":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d","kms_key_arn":"","last_modified":"2024-12-07T01:20:00Z","last_processing_result":"OK","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":-1,"maximum_retry_attempts":-1,"metrics_config":[],"parallelization_factor":1,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"LATEST","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"User action","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d"},"after_unknown":{},"before_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[{"on_failure":[{}]}],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]},"after_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[{"on_failure":[{}]}],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]}}}],"resource_changes":[{"address":"aws_api_gateway_integration.sqs_integration","mode":"managed","type":"aws_api_gateway_integration","name":"sqs_integration","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cache_key_parameters":[],"cache_namespace":"mns4il","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","http_method":"POST","id":"agi-o839tu40g6-mns4il-POST","integration_http_method":"POST","passthrough_behavior":"NEVER","request_parameters":{"integration.request.header.Content-Type":"'application/x-www-form-urlencoded'"},"request_templates":{"application/json":"Action=SendMessage\u0026MessageBody=$util.urlEncode($input.body)"},"resource_id":"mns4il","rest_api_id":"o839tu40g6","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"arn:aws:apigateway:eu-north-1:sqs:path/221082177493/poc_queue_private_karlitos"},"after":{"cache_key_parameters":[],"cache_namespace":"mns4il","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","http_method":"POST","id":"agi-o839tu40g6-mns4il-POST","integration_http_method":"POST","passthrough_behavior":"NEVER","request_parameters":{"integration.request.header.Content-Type":"'application/x-www-form-urlencoded'"},"request_templates":{"application/json":"Action=SendMessage\u0026MessageBody=$util.urlEncode($input.body)"},"resource_id":"mns4il","rest_api_id":"o839tu40g6","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"arn:aws:apigateway:eu-north-1:sqs:path/221082177493/poc_queue_private_karlitos"},"after_unknown":{},"before_sensitive":{"cache_key_parameters":[],"request_parameters":{},"request_templates":{},"tls_config":[]},"after_sensitive":{"cache_key_parameters":[],"request_parameters":{},"request_templates":{},"tls_config":[]}}},{"address":"aws_api_gateway_integration_response.sqs_integration_response","mode":"managed","type":"aws_api_gateway_integration_response","name":"sqs_integration_response","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"content_handling":"","http_method":"POST","id":"agir-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_parameters":{},"response_templates":{},"rest_api_id":"o839tu40g6","selection_pattern":"","status_code":"200"},"after":{"content_handling":"","http_method":"POST","id":"agir-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_parameters":{},"response_templates":{},"rest_api_id":"o839tu40g6","selection_pattern":"","status_code":"200"},"after_unknown":{},"before_sensitive":{"response_parameters":{},"response_templates":{}},"after_sensitive":{"response_parameters":{},"response_templates":{}}}},{"address":"aws_api_gateway_method.post_method","mode":"managed","type":"aws_api_gateway_method","name":"post_method","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_key_required":false,"authorization":"NONE","authorization_scopes":[],"authorizer_id":"","http_method":"POST","id":"agm-o839tu40g6-mns4il-POST","operation_name":"","request_models":{},"request_parameters":{},"request_validator_id":"","resource_id":"mns4il","rest_api_id":"o839tu40g6"},"after":{"api_key_required":false,"authorization":"NONE","authorization_scopes":[],"authorizer_id":"","http_method":"POST","id":"agm-o839tu40g6-mns4il-POST","operation_name":"","request_models":{},"request_parameters":{},"request_validator_id":"","resource_id":"mns4il","rest_api_id":"o839tu40g6"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameters":{}},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameters":{}}}},{"address":"aws_api_gateway_method_response.response_200","mode":"managed","type":"aws_api_gateway_method_response","name":"response_200","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"http_method":"POST","id":"agmr-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_models":{},"response_parameters":{},"rest_api_id":"o839tu40g6","status_code":"200"},"after":{"http_method":"POST","id":"agmr-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_models":{},"response_parameters":{},"rest_api_id":"o839tu40g6","status_code":"200"},"after_unknown":{},"before_sensitive":{"response_models":{},"response_parameters":{}},"after_sensitive":{"response_models":{},"response_parameters":{}}}},{"address":"aws_api_gateway_resource.message_resource","mode":"managed","type":"aws_api_gateway_resource","name":"message_resource","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"mns4il","parent_id":"13zeyqay4e","path":"/message","path_part":"message","rest_api_id":"o839tu40g6"},"after":{"id":"mns4il","parent_id":"13zeyqay4e","path":"/message","path_part":"message","rest_api_id":"o839tu40g6"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_api_gateway_rest_api.poc_api","mode":"managed","type":"aws_api_gateway_rest_api","name":"poc_api","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_key_source":"HEADER","arn":"arn:aws:apigateway:eu-north-1::/restapis/o839tu40g6","binary_media_types":[],"body":null,"created_date":"2024-12-07T01:11:56Z","description":"This is a simple API","disable_execute_api_endpoint":false,"endpoint_configuration":[{"types":["EDGE"],"vpc_endpoint_ids":[]}],"execution_arn":"arn:aws:execute-api:eu-north-1:221082177493:o839tu40g6","fail_on_warnings":null,"id":"o839tu40g6","minimum_compression_size":"","name":"poc_api","parameters":null,"policy":"","put_rest_api_mode":null,"root_resource_id":"13zeyqay4e","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after":{"api_key_source":"HEADER","arn":"arn:aws:apigateway:eu-north-1::/restapis/o839tu40g6","binary_media_types":[],"body":null,"created_date":"2024-12-07T01:11:56Z","description":"This is a simple API","disable_execute_api_endpoint":false,"endpoint_configuration":[{"types":["EDGE"],"vpc_endpoint_ids":[]}],"execution_arn":"arn:aws:execute-api:eu-north-1:221082177493:o839tu40g6","fail_on_warnings":null,"id":"o839tu40g6","minimum_compression_size":"","name":"poc_api","parameters":null,"policy":"","put_rest_api_mode":null,"root_resource_id":"13zeyqay4e","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after_unknown":{},"before_sensitive":{"binary_media_types":[],"endpoint_configuration":[{"types":[false],"vpc_endpoint_ids":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"binary_media_types":[],"endpoint_configuration":[{"types":[false],"vpc_endpoint_ids":[]}],"tags":{},"tags_all":{}}}},{"address":"aws_dynamodb_table.orders","mode":"managed","type":"aws_dynamodb_table","name":"orders","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders","attribute":[{"name":"orderID","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"orderID","id":"orders","import_table":[],"local_secondary_index":[],"name":"orders","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","stream_enabled":true,"stream_label":"2024-12-07T00:37:16.597","stream_view_type":"NEW_IMAGE","table_class":"STANDARD","tags":{"Name":"orders"},"tags_all":{"Name":"orders","Terraform":"True","course":"aws-sa-associate"},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":0},"after":{"arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders","attribute":[{"name":"orderID","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"orderID","id":"orders","import_table":[],"local_secondary_index":[],"name":"orders","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","stream_enabled":true,"stream_label":"2024-12-07T00:37:16.597","stream_view_type":"NEW_IMAGE","table_class":"STANDARD","tags":{"Name":"orders"},"tags_all":{"Name":"orders","Terraform":"True","course":"aws-sa-associate"},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":0},"after_unknown":{},"before_sensitive":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]},"after_sensitive":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}}},{"address":"aws_iam_policy.lambda_dynamodbstreams_read","mode":"managed","type":"aws_iam_policy","name":"lambda_dynamodbstreams_read","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","name":"Lambda-DynamoDBStreams-Read","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetShardIterator\",\"dynamodb:DescribeStream\",\"dynamodb:ListStreams\",\"dynamodb:GetRecords\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KYAJJ2VX4M","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after":{"arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","name":"Lambda-DynamoDBStreams-Read","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetShardIterator\",\"dynamodb:DescribeStream\",\"dynamodb:ListStreams\",\"dynamodb:GetRecords\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KYAJJ2VX4M","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_policy.lambda_read_sqs","mode":"managed","type":"aws_iam_policy","name":"lambda_read_sqs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","name":"Lambda-Read-SQS","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sqs:DeleteMessage\",\"sqs:ReceiveMessage\",\"sqs:GetQueueAttributes\",\"sqs:ChangeMessageVisibility\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7K27S47WKDB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","name":"Lambda-Read-SQS","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sqs:DeleteMessage\",\"sqs:ReceiveMessage\",\"sqs:GetQueueAttributes\",\"sqs:ChangeMessageVisibility\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7K27S47WKDB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_policy.lambda_sns_publish","mode":"managed","type":"aws_iam_policy","name":"lambda_sns_publish","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/lambda-sns-publish","name":"lambda-sns-publish","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sns:Publish\",\"sns:GetTopicAttributes\",\"sns:ListTopics\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KTGFB4ZOZK","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after":{"arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/lambda-sns-publish","name":"lambda-sns-publish","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sns:Publish\",\"sns:GetTopicAttributes\",\"sns:ListTopics\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KTGFB4ZOZK","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_policy.lambda_write_dynamodb","mode":"managed","type":"aws_iam_policy","name":"lambda_write_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","attachment_count":1,"description":"dynamo access put","id":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","name":"Lambda-Write-DynamoDB","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:putitem\",\"dynamodb:describetable\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"visualeditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KXVIT3BEHB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","attachment_count":1,"description":"dynamo access put","id":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","name":"Lambda-Write-DynamoDB","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:putitem\",\"dynamodb:describetable\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"visualeditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KXVIT3BEHB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.api_gateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"api_gateway_sqs_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-07T01:18:44Z","description":"","force_detach_policies":false,"id":"api_gateway_sqs_role","inline_policy":[{"name":"api_gateway_sqs_policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"api_gateway_sqs_role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K4FRMLTZAG"},"after":{"arn":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-07T01:18:44Z","description":"","force_detach_policies":false,"id":"api_gateway_sqs_role","inline_policy":[{"name":"api_gateway_sqs_policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"api_gateway_sqs_role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K4FRMLTZAG"},"after_unknown":{},"before_sensitive":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.apigateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"apigateway_sqs_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:role/APIGateway-SQS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"APIGateway-SQS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"],"max_session_duration":3600,"name":"APIGateway-SQS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KY4R3XGUND"},"after":{"arn":"arn:aws:iam::221082177493:role/APIGateway-SQS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"APIGateway-SQS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"],"max_session_duration":3600,"name":"APIGateway-SQS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KY4R3XGUND"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.lambda_dynamodbstreams_sns_role","mode":"managed","type":"aws_iam_role","name":"lambda_dynamodbstreams_sns_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-DynamoDBStreams-SNS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","arn:aws:iam::221082177493:policy/lambda-sns-publish"],"max_session_duration":3600,"name":"Lambda-DynamoDBStreams-SNS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KSIWQWV6T7"},"after":{"arn":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-DynamoDBStreams-SNS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","arn:aws:iam::221082177493:policy/lambda-sns-publish"],"max_session_duration":3600,"name":"Lambda-DynamoDBStreams-SNS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KSIWQWV6T7"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.lambda_sqs_dynamodb_role","mode":"managed","type":"aws_iam_role","name":"lambda_sqs_dynamodb_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-SQS-DynamoDB","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-Read-SQS","arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB"],"max_session_duration":3600,"name":"Lambda-SQS-DynamoDB","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K655QYD3MI"},"after":{"arn":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-SQS-DynamoDB","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-Read-SQS","arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB"],"max_session_duration":3600,"name":"Lambda-SQS-DynamoDB","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K655QYD3MI"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role_policy.api_gateway_sqs_policy","mode":"managed","type":"aws_iam_role_policy","name":"api_gateway_sqs_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"api_gateway_sqs_role:api_gateway_sqs_policy","name":"api_gateway_sqs_policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}","role":"api_gateway_sqs_role"},"after":{"id":"api_gateway_sqs_role:api_gateway_sqs_policy","name":"api_gateway_sqs_policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}","role":"api_gateway_sqs_role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.apigateway_sqs_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"apigateway_sqs_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"APIGateway-SQS-20241206230841686000000004","policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs","role":"APIGateway-SQS"},"after":{"id":"APIGateway-SQS-20241206230841686000000004","policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs","role":"APIGateway-SQS"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_publish_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_publish_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"Lambda-DynamoDBStreams-SNS-20241207001238714600000003","policy_arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","role":"Lambda-DynamoDBStreams-SNS"},"after":{"id":"Lambda-DynamoDBStreams-SNS-20241207001238714600000003","policy_arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","role":"Lambda-DynamoDBStreams-SNS"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_read_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_read_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"Lambda-DynamoDBStreams-SNS-20241206230841574400000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","role":"Lambda-DynamoDBStreams-SNS"},"after":{"id":"Lambda-DynamoDBStreams-SNS-20241206230841574400000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","role":"Lambda-DynamoDBStreams-SNS"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamo_sqs_read","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamo_sqs_read","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"Lambda-SQS-DynamoDB-20241207001237527600000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","role":"Lambda-SQS-DynamoDB"},"after":{"id":"Lambda-SQS-DynamoDB-20241207001237527600000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","role":"Lambda-SQS-DynamoDB"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamodb_dynamo_write","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamodb_dynamo_write","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"Lambda-SQS-DynamoDB-20241207001237948700000002","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","role":"Lambda-SQS-DynamoDB"},"after":{"id":"Lambda-SQS-DynamoDB-20241207001237948700000002","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","role":"Lambda-SQS-DynamoDB"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_lambda_event_source_mapping.emailer_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"emailer_trigger","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:48541742-d18e-4d1f-b5e2-4bc6112f6a2d","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[{"on_failure":[{"destination_arn":null}]}],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_response_types":[],"id":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d","kms_key_arn":"","last_modified":"2024-12-07T01:20:00Z","last_processing_result":"OK","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":-1,"maximum_retry_attempts":-1,"metrics_config":[],"parallelization_factor":1,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"LATEST","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"User action","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d"},"after":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:48541742-d18e-4d1f-b5e2-4bc6112f6a2d","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[{"on_failure":[{"destination_arn":null}]}],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_response_types":[],"id":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d","kms_key_arn":"","last_modified":"2024-12-07T01:20:00Z","last_processing_result":"OK","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":-1,"maximum_retry_attempts":-1,"metrics_config":[],"parallelization_factor":1,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"LATEST","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"User action","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d"},"after_unknown":{},"before_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[{"on_failure":[{}]}],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]},"after_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[{"on_failure":[{}]}],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]}}},{"address":"aws_lambda_event_source_mapping.sqs_order_processor_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"sqs_order_processor_trigger","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_response_types":[],"id":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","kms_key_arn":"","last_modified":"2024-12-06T23:09:31Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351"},"after":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_response_types":[],"id":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","kms_key_arn":"","last_modified":"2024-12-06T23:09:31Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351"},"after_unknown":{},"before_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]},"after_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]}}},{"address":"aws_lambda_function.emailer","mode":"managed","type":"aws_lambda_function","name":"emailer","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","code_sha256":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"SNS_TOPIC":"arn:aws:sns:eu-north-1:221082177493:poc_topic"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./emailer.zip","function_name":"emailer-0","handler":"emailer.mail_handler","id":"emailer-0","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0/invocations","kms_key_arn":"","last_modified":"2024-12-07T00:51:07.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/emailer-0","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","source_code_size":400,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","code_sha256":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"SNS_TOPIC":"arn:aws:sns:eu-north-1:221082177493:poc_topic"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./emailer.zip","function_name":"emailer-0","handler":"emailer.mail_handler","id":"emailer-0","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0/invocations","kms_key_arn":"","last_modified":"2024-12-07T00:51:07.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/emailer-0","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","source_code_size":400,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}},{"address":"aws_lambda_function.order_processor","mode":"managed","type":"aws_lambda_function","name":"order_processor","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","code_sha256":"gkjwdA1flRCvrgy186GvU5MB/jP6r9NhbF8EN0x19BE=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"TABLE_NAME":"orders"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./function.zip","function_name":"POC-Lambda-1","handler":"function.lambda_handler","id":"POC-Lambda-1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1/invocations","kms_key_arn":"","last_modified":"2024-12-06T23:30:58.601+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/POC-Lambda-1","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"T3C/5RhD0ekGOWDHkaywUF+Xn7vEz2wLNB4g6KsKLNc=","source_code_size":348,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","code_sha256":"gkjwdA1flRCvrgy186GvU5MB/jP6r9NhbF8EN0x19BE=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"TABLE_NAME":"orders"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./function.zip","function_name":"POC-Lambda-1","handler":"function.lambda_handler","id":"POC-Lambda-1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1/invocations","kms_key_arn":"","last_modified":"2024-12-06T23:30:58.601+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/POC-Lambda-1","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"T3C/5RhD0ekGOWDHkaywUF+Xn7vEz2wLNB4g6KsKLNc=","source_code_size":348,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}},{"address":"aws_sns_topic.poc_topic","mode":"managed","type":"aws_sns_topic","name":"poc_topic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:eu-north-1:221082177493:poc_topic","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"poc_topic","name_prefix":"","owner":"221082177493","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"221082177493\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:eu-north-1:221082177493:poc_topic\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"tracing_config":""},"after":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:eu-north-1:221082177493:poc_topic","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"poc_topic","name_prefix":"","owner":"221082177493","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"221082177493\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:eu-north-1:221082177493:poc_topic\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"tracing_config":""},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_sns_topic_subscription.email","mode":"managed","type":"aws_sns_topic_subscription","name":"email","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","confirmation_timeout_in_minutes":1,"confirmation_was_authenticated":false,"delivery_policy":"","endpoint":"ligtning.uwhsh@aleeas.com","endpoint_auto_confirms":false,"filter_policy":"","filter_policy_scope":"","id":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","owner_id":"221082177493","pending_confirmation":false,"protocol":"email","raw_message_delivery":false,"redrive_policy":"","replay_policy":"","subscription_role_arn":"","topic_arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic"},"after":{"arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","confirmation_timeout_in_minutes":1,"confirmation_was_authenticated":false,"delivery_policy":"","endpoint":"ligtning.uwhsh@aleeas.com","endpoint_auto_confirms":false,"filter_policy":"","filter_policy_scope":"","id":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","owner_id":"221082177493","pending_confirmation":false,"protocol":"email","raw_message_delivery":false,"redrive_policy":"","replay_policy":"","subscription_role_arn":"","topic_arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_sqs_queue.poc_queue","mode":"managed","type":"aws_sqs_queue","name":"poc_queue","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"poc_queue_private_karlitos","name_prefix":"","policy":"{\"Statement\":[{\"Action\":\"sqs:SendMessage\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","visibility_timeout_seconds":30},"after":{"arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"poc_queue_private_karlitos","name_prefix":"","policy":"{\"Statement\":[{\"Action\":\"sqs:SendMessage\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","visibility_timeout_seconds":30},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_sqs_queue_policy.poc_queue_policy","mode":"managed","type":"aws_sqs_queue_policy","name":"poc_queue_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","policy":"{\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","queue_url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos"},"after":{"id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","policy":"{\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","queue_url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.10.1","values":{"root_module":{"resources":[{"address":"data.archive_file.lambda_emailer_zip","mode":"data","type":"archive_file","name":"lambda_emailer_zip","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":null,"id":"cb4c7e6174905566181e44806079505432783bd1","output_base64sha256":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","output_base64sha512":"grkeNabCJXBDYYfnSfSVjPgsNs22is6PzkGYIHz6K4NFVilDujEPV0EzroE/qEqOTV1LTlbU+WyXnjdzN/RROQ==","output_file_mode":null,"output_md5":"f58545e09c4ac9af16d0ef1da02592d9","output_path":"./emailer.zip","output_sha":"cb4c7e6174905566181e44806079505432783bd1","output_sha256":"28e95fee62b9970fe95fdeeb7af7628a07487801d7cf75a4b923ba5e33e29f4b","output_sha512":"82b91e35a6c22570436187e749f4958cf82c36cdb68ace8fce4198207cfa2b8345562943ba310f574133ae813fa84a8e4d5d4b4e56d4f96c979e377337f45139","output_size":400,"source":[],"source_content":null,"source_content_filename":null,"source_dir":null,"source_file":"./emailer.py","type":"zip"},"sensitive_values":{"source":[]}},{"address":"data.archive_file.lambda_zip","mode":"data","type":"archive_file","name":"lambda_zip","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":null,"id":"80588c60b60a91dc8cd1c7adf4627a838c103392","output_base64sha256":"T3C/5RhD0ekGOWDHkaywUF+Xn7vEz2wLNB4g6KsKLNc=","output_base64sha512":"fYkimCCYe4rPfsbpqwQX1n6I8X7NhEWHLMz4Bkbt2KlgOBzzujh7ZPv3ExgIF4B9bpHa2Agjdk1SiCs/vD1e3w==","output_file_mode":null,"output_md5":"6b3ed9ce2e98547796e45621ea026b83","output_path":"./function.zip","output_sha":"80588c60b60a91dc8cd1c7adf4627a838c103392","output_sha256":"4f70bfe51843d1e9063960c791acb0505f979fbbc4cf6c0b341e20e8ab0a2cd7","output_sha512":"7d89229820987b8acf7ec6e9ab0417d67e88f17ecd8445872cccf80646edd8a960381cf3ba387b64fbf713180817807d6e91dad80823764d52882b3fbc3d5edf","output_size":350,"source":[],"source_content":null,"source_content_filename":null,"source_dir":null,"source_file":"./function.py","type":"zip"},"sensitive_values":{"source":[]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"221082177493","arn":"arn:aws:iam::221082177493:user/karlis_cli","id":"221082177493","user_id":"AIDATG6MGJ7KWRBAACYWQ"},"sensitive_values":{}},{"address":"data.aws_iam_policy_document.dynamo_put_policy_document","mode":"data","type":"aws_iam_policy_document","name":"dynamo_put_policy_document","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1873496185","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"visualeditor0\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:putitem\",\n        \"dynamodb:describetable\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"visualeditor0\",\"Effect\":\"Allow\",\"Action\":[\"dynamodb:putitem\",\"dynamodb:describetable\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["dynamodb:describetable","dynamodb:putitem"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"visualeditor0"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Europe (Stockholm)","endpoint":"ec2.eu-north-1.amazonaws.com","id":"eu-north-1","name":"eu-north-1"},"sensitive_values":{}},{"address":"aws_api_gateway_integration.sqs_integration","mode":"managed","type":"aws_api_gateway_integration","name":"sqs_integration","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cache_key_parameters":[],"cache_namespace":"mns4il","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","http_method":"POST","id":"agi-o839tu40g6-mns4il-POST","integration_http_method":"POST","passthrough_behavior":"NEVER","request_parameters":{"integration.request.header.Content-Type":"'application/x-www-form-urlencoded'"},"request_templates":{"application/json":"Action=SendMessage\u0026MessageBody=$util.urlEncode($input.body)"},"resource_id":"mns4il","rest_api_id":"o839tu40g6","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"arn:aws:apigateway:eu-north-1:sqs:path/221082177493/poc_queue_private_karlitos"},"sensitive_values":{"cache_key_parameters":[],"request_parameters":{},"request_templates":{},"tls_config":[]},"depends_on":["aws_api_gateway_method.post_method","aws_api_gateway_resource.message_resource","aws_api_gateway_rest_api.poc_api","aws_iam_role.api_gateway_sqs_role","aws_sqs_queue.poc_queue","data.aws_caller_identity.current","data.aws_region.current"]},{"address":"aws_api_gateway_integration_response.sqs_integration_response","mode":"managed","type":"aws_api_gateway_integration_response","name":"sqs_integration_response","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"content_handling":"","http_method":"POST","id":"agir-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_parameters":{},"response_templates":{},"rest_api_id":"o839tu40g6","selection_pattern":"","status_code":"200"},"sensitive_values":{"response_parameters":{},"response_templates":{}},"depends_on":["aws_api_gateway_integration.sqs_integration","aws_api_gateway_method.post_method","aws_api_gateway_method_response.response_200","aws_api_gateway_resource.message_resource","aws_api_gateway_rest_api.poc_api","aws_iam_role.api_gateway_sqs_role","aws_sqs_queue.poc_queue","data.aws_caller_identity.current","data.aws_region.current"]},{"address":"aws_api_gateway_method.post_method","mode":"managed","type":"aws_api_gateway_method","name":"post_method","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization":"NONE","authorization_scopes":[],"authorizer_id":"","http_method":"POST","id":"agm-o839tu40g6-mns4il-POST","operation_name":"","request_models":{},"request_parameters":{},"request_validator_id":"","resource_id":"mns4il","rest_api_id":"o839tu40g6"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameters":{}},"depends_on":["aws_api_gateway_resource.message_resource","aws_api_gateway_rest_api.poc_api"]},{"address":"aws_api_gateway_method_response.response_200","mode":"managed","type":"aws_api_gateway_method_response","name":"response_200","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"http_method":"POST","id":"agmr-o839tu40g6-mns4il-POST-200","resource_id":"mns4il","response_models":{},"response_parameters":{},"rest_api_id":"o839tu40g6","status_code":"200"},"sensitive_values":{"response_models":{},"response_parameters":{}},"depends_on":["aws_api_gateway_method.post_method","aws_api_gateway_resource.message_resource","aws_api_gateway_rest_api.poc_api"]},{"address":"aws_api_gateway_resource.message_resource","mode":"managed","type":"aws_api_gateway_resource","name":"message_resource","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"mns4il","parent_id":"13zeyqay4e","path":"/message","path_part":"message","rest_api_id":"o839tu40g6"},"sensitive_values":{},"depends_on":["aws_api_gateway_rest_api.poc_api"]},{"address":"aws_api_gateway_rest_api.poc_api","mode":"managed","type":"aws_api_gateway_rest_api","name":"poc_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_source":"HEADER","arn":"arn:aws:apigateway:eu-north-1::/restapis/o839tu40g6","binary_media_types":[],"body":null,"created_date":"2024-12-07T01:11:56Z","description":"This is a simple API","disable_execute_api_endpoint":false,"endpoint_configuration":[{"types":["EDGE"],"vpc_endpoint_ids":[]}],"execution_arn":"arn:aws:execute-api:eu-north-1:221082177493:o839tu40g6","fail_on_warnings":null,"id":"o839tu40g6","minimum_compression_size":"","name":"poc_api","parameters":null,"policy":"","put_rest_api_mode":null,"root_resource_id":"13zeyqay4e","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"binary_media_types":[],"endpoint_configuration":[{"types":[false],"vpc_endpoint_ids":[]}],"tags":{},"tags_all":{}}},{"address":"aws_dynamodb_table.orders","mode":"managed","type":"aws_dynamodb_table","name":"orders","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders","attribute":[{"name":"orderID","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"orderID","id":"orders","import_table":[],"local_secondary_index":[],"name":"orders","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","stream_enabled":true,"stream_label":"2024-12-07T00:37:16.597","stream_view_type":"NEW_IMAGE","table_class":"STANDARD","tags":{"Name":"orders"},"tags_all":{"Name":"orders","Terraform":"True","course":"aws-sa-associate"},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":0},"sensitive_values":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}},{"address":"aws_iam_policy.lambda_dynamodbstreams_read","mode":"managed","type":"aws_iam_policy","name":"lambda_dynamodbstreams_read","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","name":"Lambda-DynamoDBStreams-Read","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetShardIterator\",\"dynamodb:DescribeStream\",\"dynamodb:ListStreams\",\"dynamodb:GetRecords\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KYAJJ2VX4M","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.lambda_read_sqs","mode":"managed","type":"aws_iam_policy","name":"lambda_read_sqs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","name":"Lambda-Read-SQS","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sqs:DeleteMessage\",\"sqs:ReceiveMessage\",\"sqs:GetQueueAttributes\",\"sqs:ChangeMessageVisibility\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7K27S47WKDB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.lambda_sns_publish","mode":"managed","type":"aws_iam_policy","name":"lambda_sns_publish","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","attachment_count":1,"description":"","id":"arn:aws:iam::221082177493:policy/lambda-sns-publish","name":"lambda-sns-publish","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"sns:Publish\",\"sns:GetTopicAttributes\",\"sns:ListTopics\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"VisualEditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KTGFB4ZOZK","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.lambda_write_dynamodb","mode":"managed","type":"aws_iam_policy","name":"lambda_write_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","attachment_count":1,"description":"dynamo access put","id":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","name":"Lambda-Write-DynamoDB","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:putitem\",\"dynamodb:describetable\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"visualeditor0\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPATG6MGJ7KXVIT3BEHB","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_iam_policy_document.dynamo_put_policy_document"]},{"address":"aws_iam_role.api_gateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"api_gateway_sqs_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/api_gateway_sqs_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-07T01:18:44Z","description":"","force_detach_policies":false,"id":"api_gateway_sqs_role","inline_policy":[{"name":"api_gateway_sqs_policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"api_gateway_sqs_role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K4FRMLTZAG"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.apigateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"apigateway_sqs_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/APIGateway-SQS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"APIGateway-SQS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"],"max_session_duration":3600,"name":"APIGateway-SQS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KY4R3XGUND"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.lambda_dynamodbstreams_sns_role","mode":"managed","type":"aws_iam_role","name":"lambda_dynamodbstreams_sns_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-DynamoDBStreams-SNS","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","arn:aws:iam::221082177493:policy/lambda-sns-publish"],"max_session_duration":3600,"name":"Lambda-DynamoDBStreams-SNS","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7KSIWQWV6T7"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.lambda_sqs_dynamodb_role","mode":"managed","type":"aws_iam_role","name":"lambda_sqs_dynamodb_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-12-06T23:08:40Z","description":"","force_detach_policies":false,"id":"Lambda-SQS-DynamoDB","inline_policy":[],"managed_policy_arns":["arn:aws:iam::221082177493:policy/Lambda-Read-SQS","arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB"],"max_session_duration":3600,"name":"Lambda-SQS-DynamoDB","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"unique_id":"AROATG6MGJ7K655QYD3MI"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role_policy.api_gateway_sqs_policy","mode":"managed","type":"aws_iam_role_policy","name":"api_gateway_sqs_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"api_gateway_sqs_role:api_gateway_sqs_policy","name":"api_gateway_sqs_policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"]}]}","role":"api_gateway_sqs_role"},"sensitive_values":{},"depends_on":["aws_iam_role.api_gateway_sqs_role","aws_sqs_queue.poc_queue"]},{"address":"aws_iam_role_policy_attachment.apigateway_sqs_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"apigateway_sqs_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"APIGateway-SQS-20241206230841686000000004","policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs","role":"APIGateway-SQS"},"sensitive_values":{},"depends_on":["aws_iam_role.apigateway_sqs_role"]},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_publish_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_publish_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-DynamoDBStreams-SNS-20241207001238714600000003","policy_arn":"arn:aws:iam::221082177493:policy/lambda-sns-publish","role":"Lambda-DynamoDBStreams-SNS"},"sensitive_values":{},"depends_on":["aws_iam_policy.lambda_sns_publish","aws_iam_role.lambda_dynamodbstreams_sns_role"]},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_read_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_read_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-DynamoDBStreams-SNS-20241206230841574400000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-DynamoDBStreams-Read","role":"Lambda-DynamoDBStreams-SNS"},"sensitive_values":{},"depends_on":["aws_iam_policy.lambda_dynamodbstreams_read","aws_iam_role.lambda_dynamodbstreams_sns_role"]},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamo_sqs_read","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamo_sqs_read","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-SQS-DynamoDB-20241207001237527600000001","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Read-SQS","role":"Lambda-SQS-DynamoDB"},"sensitive_values":{},"depends_on":["aws_iam_policy.lambda_read_sqs","aws_iam_role.lambda_sqs_dynamodb_role"]},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamodb_dynamo_write","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamodb_dynamo_write","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"Lambda-SQS-DynamoDB-20241207001237948700000002","policy_arn":"arn:aws:iam::221082177493:policy/Lambda-Write-DynamoDB","role":"Lambda-SQS-DynamoDB"},"sensitive_values":{},"depends_on":["aws_iam_policy.lambda_write_dynamodb","aws_iam_role.lambda_sqs_dynamodb_role","data.aws_iam_policy_document.dynamo_put_policy_document"]},{"address":"aws_lambda_event_source_mapping.emailer_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"emailer_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:48541742-d18e-4d1f-b5e2-4bc6112f6a2d","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[{"on_failure":[{"destination_arn":null}]}],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:dynamodb:eu-north-1:221082177493:table/orders/stream/2024-12-07T00:37:16.597","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","function_response_types":[],"id":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d","kms_key_arn":"","last_modified":"2024-12-07T01:20:00Z","last_processing_result":"OK","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":-1,"maximum_retry_attempts":-1,"metrics_config":[],"parallelization_factor":1,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"LATEST","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"User action","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"48541742-d18e-4d1f-b5e2-4bc6112f6a2d"},"sensitive_values":{"amazon_managed_kafka_event_source_config":[],"destination_config":[{"on_failure":[{}]}],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]},"depends_on":["aws_dynamodb_table.orders","aws_iam_role.lambda_dynamodbstreams_sns_role","aws_lambda_function.emailer","aws_sns_topic.poc_topic","data.archive_file.lambda_emailer_zip"]},{"address":"aws_lambda_event_source_mapping.sqs_order_processor_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"sqs_order_processor_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:eu-north-1:221082177493:event-source-mapping:b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","filter_criteria":[],"function_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_name":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","function_response_types":[],"id":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351","kms_key_arn":"","last_modified":"2024-12-06T23:09:31Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"topics":[],"tumbling_window_in_seconds":0,"uuid":"b8c9b0f5-7bb7-4aea-9ebd-f337c5ad0351"},"sensitive_values":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]},"depends_on":["aws_dynamodb_table.orders","aws_iam_role.lambda_sqs_dynamodb_role","aws_lambda_function.order_processor","aws_sqs_queue.poc_queue","data.archive_file.lambda_zip"]},{"address":"aws_lambda_function.emailer","mode":"managed","type":"aws_lambda_function","name":"emailer","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0","code_sha256":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"SNS_TOPIC":"arn:aws:sns:eu-north-1:221082177493:poc_topic"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./emailer.zip","function_name":"emailer-0","handler":"emailer.mail_handler","id":"emailer-0","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0/invocations","kms_key_arn":"","last_modified":"2024-12-07T00:51:07.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/emailer-0","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:emailer-0:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-DynamoDBStreams-SNS","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"KOlf7mK5lw/pX97revdiigdIeAHXz3WkuSO6XjPin0s=","source_code_size":400,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"depends_on":["aws_iam_role.lambda_dynamodbstreams_sns_role","aws_sns_topic.poc_topic","data.archive_file.lambda_emailer_zip"]},{"address":"aws_lambda_function.order_processor","mode":"managed","type":"aws_lambda_function","name":"order_processor","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1","code_sha256":"gkjwdA1flRCvrgy186GvU5MB/jP6r9NhbF8EN0x19BE=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"TABLE_NAME":"orders"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./function.zip","function_name":"POC-Lambda-1","handler":"function.lambda_handler","id":"POC-Lambda-1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1/invocations","kms_key_arn":"","last_modified":"2024-12-06T23:30:58.601+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/POC-Lambda-1","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-north-1:221082177493:function:POC-Lambda-1:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB","runtime":"python3.13","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"T3C/5RhD0ekGOWDHkaywUF+Xn7vEz2wLNB4g6KsKLNc=","source_code_size":348,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"depends_on":["aws_dynamodb_table.orders","aws_iam_role.lambda_sqs_dynamodb_role","data.archive_file.lambda_zip"]},{"address":"aws_sns_topic.poc_topic","mode":"managed","type":"aws_sns_topic","name":"poc_topic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:eu-north-1:221082177493:poc_topic","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"poc_topic","name_prefix":"","owner":"221082177493","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"221082177493\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:eu-north-1:221082177493:poc_topic\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"tracing_config":""},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_sns_topic_subscription.email","mode":"managed","type":"aws_sns_topic_subscription","name":"email","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","confirmation_timeout_in_minutes":1,"confirmation_was_authenticated":false,"delivery_policy":"","endpoint":"ligtning.uwhsh@aleeas.com","endpoint_auto_confirms":false,"filter_policy":"","filter_policy_scope":"","id":"arn:aws:sns:eu-north-1:221082177493:poc_topic:052700a3-6a89-4183-9fde-82928d7b2b5d","owner_id":"221082177493","pending_confirmation":false,"protocol":"email","raw_message_delivery":false,"redrive_policy":"","replay_policy":"","subscription_role_arn":"","topic_arn":"arn:aws:sns:eu-north-1:221082177493:poc_topic"},"sensitive_values":{},"depends_on":["aws_sns_topic.poc_topic"]},{"address":"aws_sqs_queue.poc_queue","mode":"managed","type":"aws_sqs_queue","name":"poc_queue","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"poc_queue_private_karlitos","name_prefix":"","policy":"{\"Statement\":[{\"Action\":\"sqs:SendMessage\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{"Terraform":"True","course":"aws-sa-associate"},"url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","visibility_timeout_seconds":30},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_sqs_queue_policy.poc_queue_policy","mode":"managed","type":"aws_sqs_queue_policy","name":"poc_queue_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"id":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos","policy":"{\"Statement\":[{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/APIGateway-SQS\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::221082177493:role/Lambda-SQS-DynamoDB\"},\"Resource\":\"arn:aws:sqs:eu-north-1:221082177493:poc_queue_private_karlitos\"}],\"Version\":\"2012-10-17\"}","queue_url":"https://sqs.eu-north-1.amazonaws.com/221082177493/poc_queue_private_karlitos"},"sensitive_values":{},"depends_on":["aws_iam_role.apigateway_sqs_role","aws_iam_role.lambda_sqs_dynamodb_role","aws_sqs_queue.poc_queue"]}]}}},"configuration":{"provider_config":{"archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive"},"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"default_tags":[{"tags":{"constant_value":{"Terraform":"True","course":"aws-sa-associate"}}}],"region":{"constant_value":"eu-north-1"}}}},"root_module":{"resources":[{"address":"aws_api_gateway_integration.sqs_integration","mode":"managed","type":"aws_api_gateway_integration","name":"sqs_integration","provider_config_key":"aws","expressions":{"credentials":{"references":["aws_iam_role.api_gateway_sqs_role.arn","aws_iam_role.api_gateway_sqs_role"]},"http_method":{"references":["aws_api_gateway_method.post_method.http_method","aws_api_gateway_method.post_method"]},"integration_http_method":{"constant_value":"POST"},"passthrough_behavior":{"constant_value":"NEVER"},"request_parameters":{"constant_value":{"integration.request.header.Content-Type":"'application/x-www-form-urlencoded'"}},"request_templates":{"constant_value":{"application/json":"Action=SendMessage\u0026MessageBody=$util.urlEncode($input.body)"}},"resource_id":{"references":["aws_api_gateway_resource.message_resource.id","aws_api_gateway_resource.message_resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.poc_api.id","aws_api_gateway_rest_api.poc_api"]},"type":{"constant_value":"AWS"},"uri":{"references":["data.aws_region.current.name","data.aws_region.current","data.aws_caller_identity.current.account_id","data.aws_caller_identity.current","aws_sqs_queue.poc_queue.name","aws_sqs_queue.poc_queue"]}},"schema_version":0},{"address":"aws_api_gateway_integration_response.sqs_integration_response","mode":"managed","type":"aws_api_gateway_integration_response","name":"sqs_integration_response","provider_config_key":"aws","expressions":{"http_method":{"references":["aws_api_gateway_method.post_method.http_method","aws_api_gateway_method.post_method"]},"resource_id":{"references":["aws_api_gateway_resource.message_resource.id","aws_api_gateway_resource.message_resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.poc_api.id","aws_api_gateway_rest_api.poc_api"]},"status_code":{"references":["aws_api_gateway_method_response.response_200.status_code","aws_api_gateway_method_response.response_200"]}},"schema_version":0,"depends_on":["aws_api_gateway_integration.sqs_integration"]},{"address":"aws_api_gateway_method.post_method","mode":"managed","type":"aws_api_gateway_method","name":"post_method","provider_config_key":"aws","expressions":{"authorization":{"constant_value":"NONE"},"http_method":{"constant_value":"POST"},"resource_id":{"references":["aws_api_gateway_resource.message_resource.id","aws_api_gateway_resource.message_resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.poc_api.id","aws_api_gateway_rest_api.poc_api"]}},"schema_version":0},{"address":"aws_api_gateway_method_response.response_200","mode":"managed","type":"aws_api_gateway_method_response","name":"response_200","provider_config_key":"aws","expressions":{"http_method":{"references":["aws_api_gateway_method.post_method.http_method","aws_api_gateway_method.post_method"]},"resource_id":{"references":["aws_api_gateway_resource.message_resource.id","aws_api_gateway_resource.message_resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.poc_api.id","aws_api_gateway_rest_api.poc_api"]},"status_code":{"constant_value":"200"}},"schema_version":0},{"address":"aws_api_gateway_resource.message_resource","mode":"managed","type":"aws_api_gateway_resource","name":"message_resource","provider_config_key":"aws","expressions":{"parent_id":{"references":["aws_api_gateway_rest_api.poc_api.root_resource_id","aws_api_gateway_rest_api.poc_api"]},"path_part":{"constant_value":"message"},"rest_api_id":{"references":["aws_api_gateway_rest_api.poc_api.id","aws_api_gateway_rest_api.poc_api"]}},"schema_version":0},{"address":"aws_api_gateway_rest_api.poc_api","mode":"managed","type":"aws_api_gateway_rest_api","name":"poc_api","provider_config_key":"aws","expressions":{"description":{"constant_value":"This is a simple API"},"name":{"constant_value":"poc_api"}},"schema_version":0},{"address":"aws_dynamodb_table.orders","mode":"managed","type":"aws_dynamodb_table","name":"orders","provider_config_key":"aws","expressions":{"attribute":[{"name":{"constant_value":"orderID"},"type":{"constant_value":"S"}}],"billing_mode":{"constant_value":"PAY_PER_REQUEST"},"hash_key":{"constant_value":"orderID"},"name":{"constant_value":"orders"},"stream_enabled":{"constant_value":true},"stream_view_type":{"constant_value":"NEW_IMAGE"},"tags":{"constant_value":{"Name":"orders"}}},"schema_version":1},{"address":"aws_iam_policy.lambda_dynamodbstreams_read","mode":"managed","type":"aws_iam_policy","name":"lambda_dynamodbstreams_read","provider_config_key":"aws","expressions":{"name":{"constant_value":"Lambda-DynamoDBStreams-Read"},"policy":{}},"schema_version":0},{"address":"aws_iam_policy.lambda_read_sqs","mode":"managed","type":"aws_iam_policy","name":"lambda_read_sqs","provider_config_key":"aws","expressions":{"name":{"constant_value":"Lambda-Read-SQS"},"policy":{}},"schema_version":0},{"address":"aws_iam_policy.lambda_sns_publish","mode":"managed","type":"aws_iam_policy","name":"lambda_sns_publish","provider_config_key":"aws","expressions":{"name":{"constant_value":"lambda-sns-publish"},"policy":{}},"schema_version":0},{"address":"aws_iam_policy.lambda_write_dynamodb","mode":"managed","type":"aws_iam_policy","name":"lambda_write_dynamodb","provider_config_key":"aws","expressions":{"description":{"constant_value":"dynamo access put"},"name":{"constant_value":"Lambda-Write-DynamoDB"},"path":{"constant_value":"/"},"policy":{"references":["data.aws_iam_policy_document.dynamo_put_policy_document.json","data.aws_iam_policy_document.dynamo_put_policy_document"]}},"schema_version":0},{"address":"aws_iam_role.api_gateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"api_gateway_sqs_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"constant_value":"api_gateway_sqs_role"}},"schema_version":0},{"address":"aws_iam_role.apigateway_sqs_role","mode":"managed","type":"aws_iam_role","name":"apigateway_sqs_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"constant_value":"APIGateway-SQS"}},"schema_version":0},{"address":"aws_iam_role.lambda_dynamodbstreams_sns_role","mode":"managed","type":"aws_iam_role","name":"lambda_dynamodbstreams_sns_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"constant_value":"Lambda-DynamoDBStreams-SNS"}},"schema_version":0},{"address":"aws_iam_role.lambda_sqs_dynamodb_role","mode":"managed","type":"aws_iam_role","name":"lambda_sqs_dynamodb_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"constant_value":"Lambda-SQS-DynamoDB"}},"schema_version":0},{"address":"aws_iam_role_policy.api_gateway_sqs_policy","mode":"managed","type":"aws_iam_role_policy","name":"api_gateway_sqs_policy","provider_config_key":"aws","expressions":{"name":{"constant_value":"api_gateway_sqs_policy"},"policy":{"references":["aws_sqs_queue.poc_queue.arn","aws_sqs_queue.poc_queue"]},"role":{"references":["aws_iam_role.api_gateway_sqs_role.id","aws_iam_role.api_gateway_sqs_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.apigateway_sqs_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"apigateway_sqs_attachment","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"},"role":{"references":["aws_iam_role.apigateway_sqs_role.name","aws_iam_role.apigateway_sqs_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_publish_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_publish_attachment","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_sns_publish.arn","aws_iam_policy.lambda_sns_publish"]},"role":{"references":["aws_iam_role.lambda_dynamodbstreams_sns_role.name","aws_iam_role.lambda_dynamodbstreams_sns_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_dynamodbstreams_sns_read_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodbstreams_sns_read_attachment","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_dynamodbstreams_read.arn","aws_iam_policy.lambda_dynamodbstreams_read"]},"role":{"references":["aws_iam_role.lambda_dynamodbstreams_sns_role.name","aws_iam_role.lambda_dynamodbstreams_sns_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamo_sqs_read","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamo_sqs_read","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_read_sqs.arn","aws_iam_policy.lambda_read_sqs"]},"role":{"references":["aws_iam_role.lambda_sqs_dynamodb_role.name","aws_iam_role.lambda_sqs_dynamodb_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_sqs_dynamodb_dynamo_write","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sqs_dynamodb_dynamo_write","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_write_dynamodb.arn","aws_iam_policy.lambda_write_dynamodb"]},"role":{"references":["aws_iam_role.lambda_sqs_dynamodb_role.name","aws_iam_role.lambda_sqs_dynamodb_role"]}},"schema_version":0},{"address":"aws_lambda_event_source_mapping.emailer_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"emailer_trigger","provider_config_key":"aws","expressions":{"batch_size":{"constant_value":1},"event_source_arn":{"references":["aws_dynamodb_table.orders.stream_arn","aws_dynamodb_table.orders"]},"function_name":{"references":["aws_lambda_function.emailer.arn","aws_lambda_function.emailer"]},"starting_position":{"constant_value":"LATEST"}},"schema_version":0},{"address":"aws_lambda_event_source_mapping.sqs_order_processor_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"sqs_order_processor_trigger","provider_config_key":"aws","expressions":{"batch_size":{"constant_value":1},"event_source_arn":{"references":["aws_sqs_queue.poc_queue.arn","aws_sqs_queue.poc_queue"]},"function_name":{"references":["aws_lambda_function.order_processor.arn","aws_lambda_function.order_processor"]}},"schema_version":0},{"address":"aws_lambda_function.emailer","mode":"managed","type":"aws_lambda_function","name":"emailer","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["aws_sns_topic.poc_topic.arn","aws_sns_topic.poc_topic"]}}],"filename":{"references":["data.archive_file.lambda_emailer_zip.output_path","data.archive_file.lambda_emailer_zip"]},"function_name":{"constant_value":"emailer-0"},"handler":{"constant_value":"emailer.mail_handler"},"role":{"references":["aws_iam_role.lambda_dynamodbstreams_sns_role.arn","aws_iam_role.lambda_dynamodbstreams_sns_role"]},"runtime":{"constant_value":"python3.13"},"source_code_hash":{"references":["data.archive_file.lambda_emailer_zip.output_base64sha256","data.archive_file.lambda_emailer_zip"]}},"schema_version":0},{"address":"aws_lambda_function.order_processor","mode":"managed","type":"aws_lambda_function","name":"order_processor","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["aws_dynamodb_table.orders.name","aws_dynamodb_table.orders"]}}],"filename":{"references":["data.archive_file.lambda_zip.output_path","data.archive_file.lambda_zip"]},"function_name":{"constant_value":"POC-Lambda-1"},"handler":{"constant_value":"function.lambda_handler"},"role":{"references":["aws_iam_role.lambda_sqs_dynamodb_role.arn","aws_iam_role.lambda_sqs_dynamodb_role"]},"runtime":{"constant_value":"python3.13"},"source_code_hash":{"references":["data.archive_file.lambda_zip.output_base64sha256","data.archive_file.lambda_zip"]}},"schema_version":0},{"address":"aws_sns_topic.poc_topic","mode":"managed","type":"aws_sns_topic","name":"poc_topic","provider_config_key":"aws","expressions":{"name":{"constant_value":"poc_topic"}},"schema_version":0},{"address":"aws_sns_topic_subscription.email","mode":"managed","type":"aws_sns_topic_subscription","name":"email","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"ligtning.uwhsh@aleeas.com"},"protocol":{"constant_value":"email"},"topic_arn":{"references":["aws_sns_topic.poc_topic.arn","aws_sns_topic.poc_topic"]}},"schema_version":0},{"address":"aws_sqs_queue.poc_queue","mode":"managed","type":"aws_sqs_queue","name":"poc_queue","provider_config_key":"aws","expressions":{"name":{"constant_value":"poc_queue_private_karlitos"}},"schema_version":0},{"address":"aws_sqs_queue_policy.poc_queue_policy","mode":"managed","type":"aws_sqs_queue_policy","name":"poc_queue_policy","provider_config_key":"aws","expressions":{"policy":{"references":["aws_iam_role.apigateway_sqs_role.arn","aws_iam_role.apigateway_sqs_role","aws_sqs_queue.poc_queue.arn","aws_sqs_queue.poc_queue","aws_iam_role.lambda_sqs_dynamodb_role.arn","aws_iam_role.lambda_sqs_dynamodb_role","aws_sqs_queue.poc_queue.arn","aws_sqs_queue.poc_queue"]},"queue_url":{"references":["aws_sqs_queue.poc_queue.id","aws_sqs_queue.poc_queue"]}},"schema_version":1},{"address":"data.archive_file.lambda_emailer_zip","mode":"data","type":"archive_file","name":"lambda_emailer_zip","provider_config_key":"archive","expressions":{"output_path":{"references":["path.module"]},"source_file":{"references":["path.module"]},"type":{"constant_value":"zip"}},"schema_version":0},{"address":"data.archive_file.lambda_zip","mode":"data","type":"archive_file","name":"lambda_zip","provider_config_key":"archive","expressions":{"output_path":{"references":["path.module"]},"source_file":{"references":["path.module"]},"type":{"constant_value":"zip"}},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.dynamo_put_policy_document","mode":"data","type":"aws_iam_policy_document","name":"dynamo_put_policy_document","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["dynamodb:putitem","dynamodb:describetable"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"visualeditor0"}}]},"schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"aws","schema_version":0}]}},"timestamp":"2024-12-07T01:22:34Z","applyable":false,"complete":true,"errored":false}
